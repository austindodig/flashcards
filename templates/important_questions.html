<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Important Questions</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h1>Important Questions</h1>

    {% if important_questions %}
        <ul>
            {% for question in important_questions %}
                <li>
                    <strong>Topic:</strong> {{ question['topic'] }}<br>
                    <strong>Question:</strong> {{ question['question'] }}<br>
                    <strong>Answer:</strong> {{ question['answer'] }}<br>
                    <button class="remove-btn" data-question="{{ question['question'] }}">Remove</button>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No important questions found.</p>
    {% endif %}

    <a href="{{ url_for('dashboard') }}">Back to Dashboard</a>

    <script>
        document.querySelectorAll('.remove-btn').forEach(button => {
            button.addEventListener('click', () => {
                const question = button.getAttribute('data-question');

                fetch('/important/remove', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ question }),
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        alert('Question removed!');
                        window.location.reload();
                    } else {
                        console.error('Error removing question');
                    }
                })
                .catch(error => console.error('Error:', error));
            });
        });
    </script>
</body>
</html>
